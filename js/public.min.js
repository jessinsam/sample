"use strict";!function(t){t(document).ready((function(){t(document).on("click",".w-select-action",(function(o){o.preventDefault(),o.stopPropagation();var i=t("[id="+t(this).data("photoid")+"]");t(i).toggleClass("selected"),t(i).addClass("selecting");var a=t(i).hasClass("selected"),n=t(i).data("attachment_id");a?(jQuery(this).find(".button-text").html(whizzy.l10n.deselect),i.find(".w-select-action  .button-text").html(whizzy.l10n.deselect)):(jQuery(this).find(".button-text").html(whizzy.l10n.select),i.find(".w-select-action .button-text").html(whizzy.l10n.select)),t.ajax({type:"post",url:whizzy.ajaxurl,data:{action:"whizzy_image_click",attachment_id:n,selected:a},beforeSend:function(){},complete:function(){setTimeout((function(){t(i).removeClass("selecting")}),600)},success:function(t){}}),e()})),e(),t(".js-whizzy-gallery:not(.lightpopup)").each((function(){t(this).magnificPopup({delegate:"a.zoom-action",type:"image",removalDelay:500,mainClass:"mfp-fade",image:{titleSrc:function(e){var o=1==t("#"+e.el.data("photoid")).hasClass("selected")?whizzy.l10n.deselect:whizzy.l10n.select;return'<a class="meta__action  meta__action--popup  w-select-action"  id="popup-selector" href="#" data-photoid="'+e.el.data("photoid")+'"><span class="button-text">'+o+"</span></a>"}},gallery:{enabled:!0,navigateByImgClick:!0,tPrev:whizzy.l10n.previous,tNext:whizzy.l10n.next,tCounter:'<span class="mfp-counter">%curr% '+whizzy.l10n.ofCounter+" %total%</span>"}})})),o()}));var e=function(){if("automatic"===whizzy.whizzy_settings.zip_archive_generation){var e=t(".js-download");e.attr("disabled","disabled"),t(".proof-photo").each((function(o,i){t(this).hasClass("selected")&&e.removeAttr("disabled")}))}},o=function e(){void 0===e.bound&&(e.bound=!0,t(document).on("click","span.whizzy_photo_ref",(function(){var e=t(t(this).data("href"));(e=e.length?e:t("[name="+t(this).data("href").slice(1)+"]")).length&&t("body").animate({scrollTop:e.offset().top-200},500,(function(){t(e).addClass("scrooled_from_comments"),setTimeout((function(){t(e).removeClass("scrooled_from_comments")}),800)}))})))};function i(){t("#whizzy_proof_gallery.masonry").length&&t("#whizzy_proof_gallery.masonry").each((function(){var e=t(this),o=e.attr("data-layout")||"masonry",i=e.prev(".whizzy-filters");i.length&&i.find("button").on("click",(function(){var o=t(this).attr("data-selector");e.prev(".whizzy-filters").find("button").removeClass("is-checked"),t(this).addClass("is-checked"),e.isotope({filter:o})})),e.isotope({itemSelector:".proof-photo",layoutMode:o,masonry:{columnWidth:".proof-photo"}})}))}jQuery(window).on("load",(function(){!function(e,o){var i,a,n;t(e).each((function(){n=t(this),a=n.data("s-hidden"),(i=(i=n.closest(undefined)).length?i:n.parent()).css("background-image","url("+this.src+")").addClass("s-back-switch"),a?(n.css("visibility","hidden"),n.show()):n.hide()}))}(".s-img-switch"),t(".js-whizzy-gallery.lightpopup").lightGallery({selector:"a.zoom-action",mode:"lg-slide",closable:!1,iframeMaxWidth:"80%",download:!1,thumbnail:!1,showThumbByDefault:!1})})),t("#whizzy_proof_gallery").each((function(){var e=t(this).data("space");t(this).find(".proof-photo").css({"padding-right":e,"padding-left":e,"margin-top":"0","margin-bottom":2*e}),t(this).css({"margin-left":-e+"px","margin-right":-e+"px"})})),t(window).on("load resize",(function(){i()})),window.addEventListener("orientationchange",(function(){i()}))}(jQuery);